<html>
<head><title>Get IP Address</title>
</head>
<script type="application/javascript" src="js/getip.js"></script>	
<script type="application/javascript" src="js/qrcodegen.js"></script>	
<script type="application/javascript" src="js/qrcodegen-demo.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
//document.getElementById("text-input").value = "IP Local";
</script>
<body>
	<section>
	<form action="#" method="get" onsubmit="return false;">
		<table class="noborder" style="width:100%">
			<tbody>
				<tr>
					<td>
					<textarea placeholder="IP Local" id="text-input" style="width:100%; max-width:13em; height:2em; font-family:inherit; font-size: 15pt"></textarea>
					</td>
					
				</tr>
				<tr>
					<td>
						<canvas id="qrcode-canvas" style="padding:1em; background-color:#E8E8E8"></canvas>
						<!--svg id="qrcode-svg" style="width:30em; height:30em; padding:1em; background-color:#E8E8E8"-->
						<rect width="100%" height="100%" fill="#FFFFFF" stroke-width="0"></rect>
						<path d="" fill="#000000" stroke-width="0"></path>
						</svg>
					</td>
				</tr>
				<tr>
					<td>
						<button>Obter QR Code</button>
					</td>
				</tr>
			</tbody>
		</table>
	</form>

	<section>
		
	
		<script>
		
		document.write(getIPs(function(ip){document.getElementById("text-input").value = ip;}));	
		
			function getQRCode(){
				redrawQrCode();
				//document.write(getIPs(function(ip){document.getElementById("text-input").innerHTML = ip;}));			
			}
		//Test: Print the IP addresses into the console
		//getIPs(function(ip){console.log(ip);});
		//getIPs(function(ip){document.write("IP Local: "+ip);});
		//getIPs(function(ip){alert("IP Local: "+ip);});
		//document.write(getIPs(function(ip){alert(ip);}));
		//document.write(getIPs(function(ip){imp(ip);}));
		

		// Name abbreviated for the sake of these examples here
			var QRC = qrcodegen.QrCode;

			// Simple operation
			var qr0 = QRC.encodeText("Hello, world!", QRC.Ecc.MEDIUM);
			var svg = qr0.toSvgString(4);

			// Manual operation
			var segs = qrcodegen.QrSegment.makeSegments("3141592653589793238462643383");
			var qr1 = QRC.encodeSegments(segs, QRC.Ecc.HIGH, 5, 5, 2, false);
		</script>
		<script>
		$(document).ready(function(){
			$("button").click(function(){
				redrawQrCode();	
			});
		});
		</script>
		
	</section


</body>
</html>